<!DOCTYPE html>
<html>
<head>
<link href="style.css" rel="stylesheet" />
<meta charset=utf-8 />
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui">
<title>Scheme as code</title>

<script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
<script src="code.js"></script>
</head>
<body>
<div id="cy"></div>
<script>
  const e = [
    { source: 'server', target: 'db cluster', label: 'grpc' },
    { source: 'client', target: 'server', label: 'request' },
  ];

  const g = [
    { id: 'db cluster', label: 'Main Database cluster'},
  ];

  const n = [
    { id: 'client', type: 'client', label: 'Our dear customer'},
    { id: 'server', type: 'server', label: 'Main Server'},
    { id: 'db1', type: 'database', group: 'db cluster', label: 'DB 1'},
    { id: 'db2', type: 'database', group: 'db cluster', label: 'DB 2'},
    { id: 'db3', type: 'database', group: 'db cluster', label: 'DB N'},
  ];

  const r = Diagram();
  r.edges(e);
  r.nodes(n);
  r.groups(g);
  r.render('cy');


/*
  const n2 = [
    { id: 'cat1', type: 'cat', label: 'Cat Meow'},
    { id: 'bird1', type: 'bird', group: 'birds amazing', label: 'app1'},
    { id: 'bird2', type: 'bird', group: 'birds amazing', label: 'app2'},
    { id: 'bird3', type: 'bird', group: 'birds amazing', label: 'app3'},
    { id: 'bird4', type: 'bird', group: 'birds amazing', label: 'app4'},
    { id: 'bird5', type: 'bird', group: 'birds amazing', label: 'app5'},
  ];

  const e2 = [
    { target: 'cat1', source: 'birds amazing', label: 'hunger' },
  ];

  const g2 = [
    { id: 'birds amazing', label: 'Птички'},
  ];

  const r2 = Diagram();
  r2.elements({nodes: n2, edges: e2, groups: g2});
  r2.render('cy2');


  const elements = {
    groups: [
      { id: 'birds amazing', label: 'Птички'},
    ],
    nodes: [
      { id: 'cat1', type: 'cat', label: 'Cat Meow'},
      { id: 'bird1', type: 'bird', group: 'birds amazing', label: 'app1'},
      { id: 'bird2', type: 'bird', group: 'birds amazing', label: 'app2'},
      { id: 'bird3', type: 'bird', group: 'birds amazing', label: 'app3'},
      { id: 'bird4', type: 'bird', group: 'birds amazing', label: 'app4'},
      { id: 'bird5', type: 'bird', group: 'birds amazing', label: 'app5'},
    ],
    edges: [
      { target: 'cat1', source: 'birds amazing', label: 'hunger' },
    ],
  };

  Diagram('cy3', elements);
  */
</script>

<div id="cy2"></div>

<div id="cy3"></div>


</body>
</html>
